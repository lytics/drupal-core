var g=function(){function t(){}return t.attach=function(L,a){if(!t.attached){t.attached=!0,console.log("Rendering content recommendations.");var p=function(o){var c,d,r,f=(d=(c=o==null?void 0:o.data)===null||c===void 0?void 0:c.user)===null||d===void 0?void 0:d._uid;fetch("https://api.lytics.io/api/content/recommend/".concat((r=a==null?void 0:a.lytics)===null||r===void 0?void 0:r.account_id,"/user/_uids/").concat(f,"?contentsegment=content_with_images")).then(function(l){return l.json()}).then(function(l){var u=document.querySelector(".rec-container");if(u){u.innerHTML="";var h=0;l.data.forEach(function(e){if(!(h>=3)){var n=document.createElement("div");n.classList.add("rec-item");var s=document.createElement("div");s.classList.add("rec-title"),n.appendChild(s);var m=document.createElement("a");m.href=e.url,m.innerHTML="<strong>".concat(e.title,"</strong>"),s.appendChild(m);var i=document.createElement("img");i.classList.add("rec-img"),i.src=e.imageurls[0],i.alt="Image of ".concat(e.title),n.appendChild(i);var v=document.createElement("p");v.classList.add("rec-description"),v.textContent=e.description,n.appendChild(v),u.appendChild(n),h++}})}})};window.jstag.call("entityReady",p)}},t.attached=!1,t}();Drupal.behaviors.contentRecommendation={attach:g.attach};console.log("Lytics module JS initialized.");function C(){console.log("Shared utility function")}C();
